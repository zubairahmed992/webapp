{% extends 'LoveThatFitUserBundle::base_reg.html.twig' %}
{% form_theme form 'LoveThatFitUserBundle:FormTheme:fields.html.twig' %}
{% block action_block_content %}

<section class="reg_blk">
    <div id="popout_blk" class="popout_blk">
        <h2>Welcome!</h2>
        <!--<p>Follow the Steps below for the most accurate Fit, Look &AMP; Size:</p> -->
          <ol>
            <li>Enter Height &AMP; Weight for most accurate Fit, Look &AMP; Size. </li>
            <li>Select your favorite Brand and Size. </li>
            <li>Do not know? Click 'Not Sure' and fill in your measurements.</li>
        </ol>
        <div style="text-align:center; font-weight:bold;">If you know Measurements &AMP; Brand Sizes enter both!</div>
    </div>
    <div class="action_cnt">
        <div class="steps step_3 measurements">
            <h2>Brands &amp; Sizes</h2>
            <div id="inst">Put all values in inches.</div>
            <form id="RegistrationMeasurement" action="{{ path('registration_measurement_create', { 'id': entity.id })}}" method="post" {{ form_enctype(form) }}>
                {{ form_errors(form) }}
                    
                    <div>
                        
                        
                        {{ form_errors(form.height) }}
                        <div id="height_wrapper">
                        <span class="boxlable" id="height_box">Height (inch)</span>  
                        <span class="boxlable" id="height_box" style="margin-left:115px;"><a onclick="showfeet()" href="javascript:void(0);" style="color: #929707; font-weight: bold;">In Feet?</a></span>
  </div>
                        <div class="login_error" >
                                                    <div id="error_content0" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Height can not be null.
                                                         </div>
                                
                                <div id="error_content10" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Height must be greater than zero.
                                                         </div>
                                                    </div>
                        
                        
{{ form_widget(form.height) }}
                       
                        
                        
                       <!-- Code for select Boxes --->
                       
                       <div id="feet_box_wrapper">
                    <span class="boxlable" id="height_box">Feet</span>    
                    <select name="height_in_feet" id="height_in_feet" style="width:78px;">
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    </select>
                    
                    <span class="boxlable" id="height_box" style="left:81px;">in</span>
                    <span class="boxlable" id="height_box" style="margin-left:115px;"><a onclick="hidefeet()" href="javascript:void(0);" style="color: #929707; font-weight: bold;">In Inch?</a></span>
                    <select name="height_in_inches" id="height_in_inches" style="width:78px;">
                    <option value="0">0</option>    
                   <option value="1">1</option>
                   <option value="2">2</option>
                   <option value="3">3</option>
                   <option value="4">4</option>
                   <option value="5">5</option>
                   <option value="6">6</option>
                   <option value="7">7</option>
                   <option value="8">8</option>
                   <option value="9">9</option>
                   <option value="10">10</option>
                   <option value="11">11</option>
                   <option value="12">12</option>
        
        </select>
                       </div>
                       
                        
                        
     <!-- Code for select Boxes --->                    
                        
                        
                        
                        
                        
                        {{ form_errors(form.weight) }}
                        <span class="boxlable" id="weight_box">Weight (lbs)</span>  
                        {{ form_widget(form.weight) }}
                    </div> 
                    
                    <div class="login_error" >
                                                    <div id="error_content1" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Weight can not be null.
                                                         </div>
                            <div id="error_content11" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             weight must be greater than zero.
                                                         </div>
                                                    </div>
                                                    </div>


                    <div class="m_option">   
                        <div class="mlabel" style="width:100px;">Clothing Fit</div>
                        <div>
                              
                            {% if (top_body_type is defined) or (bottom_body_type is defined) or (dress_body_type is defined)%}
                           
                            {%if (top_body_type=="Regular") or (bottom_body_type=="Regular") or (dress_body_type=="Regular") %}   
                            
                            <script>  
                                     $(document).ready(function(){
                              
                              var bodytype = "measurement_body_types_0";
                            document.getElementById(bodytype).checked = true;
                            // $("#measurement_body_types_1").is(":checked");
                           //  $("#measurement_body_types_1 :radio:checked");
                          // $("#measurement_body_types_1").attr("checked",true);
                           // $("#measurement_body_types_0").checkboxradio("refresh");
                           });
                            </script>
                           
                            {%endif%}
                           {%if (top_body_type=="Petite") or (bottom_body_type=="Petite") or (dress_body_type=="Petite") %}   
                             <script>
                                  $(document).ready(function(){
                              
                              var bodytype = "measurement_body_types_1";
                            document.getElementById(bodytype).checked = true;
                            // $("#measurement_body_types_1").is(":checked");
                           //  $("#measurement_body_types_1 :radio:checked");
                          // $("#measurement_body_types_1").attr("checked",true);
                           // $("#measurement_body_types_0").checkboxradio("refresh");
                           });
                            </script>
                            {%endif %}
                            {%endif %}
                            
                            
                           
                            <span id="gender" style="display: none;">{{entity.gender}}</span>
                            {{ form_widget(form.body_types) }}
                        </div>
                    </div>

                    <div class="sep"></div>

                    <div class="m_option">
                        
                        <div class="mlabel">Shirt</div>
                        <div class="shirts_mus manual_opn show_hide" id="shirts_mus" style="">
                            
                             {{ form_errors(form.sleeve) }}
                            <span class="boxlable" id="sleeve_box">Sleeves</span>                        
                            {{ form_widget(form.sleeve) }}

                            {# ---------------  Chest or Bust ------------------ #}
                            
                            {% if( entity.gender=='m') %}
                                {{ form_errors(form.chest) }}
                                <span class="boxlable" id="chest_box">Chest</span>                              
                                {{ form_widget(form.chest) }}
                            {%else%}
                            
                                {{ form_errors(form.bust) }}
                                <span class="boxlable" id="bust_box">Bust</span>
                                {{ form_widget(form.bust) }}
                           {%endif%} 
                                
                                {# ---------------  Neck or Back ------------------ #}
                                
                          {% if( entity.gender=='m') %}
                            
                            {{ form_errors(form.neck) }}
                            <span class="boxlable" id="neck_box">Neck</span>                             
                            {{ form_widget(form.neck) }}

                            {%else%}
                            
                            {{ form_errors(form.back) }}
                            <span class="boxlable" id="back_box">Back</span>
                             {{ form_widget(form.back) }}

                           {%endif%} 

                        </div>
                        
                    {# ----------------------  Top Brand & Size ------------------ #}
                     <script type="text/javascript">
 $('#measurement_height').keyup(function() {
  var dd =this.value;
  if(isNaN(dd))
	{
		dd = dd.substring(0,(dd.length-1));
		 $('#height_in_feet').val(dd);
	}
  var height_in_feet=dd * 0.083333;
  var feet = Math.floor(height_in_feet);
  var inches = Math.round((height_in_feet - feet) * 12);
  
  //decimal_num = Math.ceil(after * 100) / 100;
  //var height_feet_fix=before.toFixed(1);
  
  $('#height_in_feet').val(feet);
  $('#height_in_inches').val(inches);
});


$('#height_in_feet').change(function() {
    
  var dd =parseInt(this.value);
  var inches_select_box_value=$('#height_in_inches').val();
  if(isNaN(dd))
	{
	dd = dd.substring(0,(dd.length-1));
	$('#height_in_feet').val(dd);
	}
  var height_in_feet=dd * 12.000;
  var total_height_in_feet=height_in_feet+(parseInt(inches_select_box_value));
  //var before=height_in_feet.toString().split(".")[0]; ///before
  //var after=height_in_feet.toString().split(".")[1];
  //var add_before_after=parseInt(before)+parseInt(after);
  
  
  var height_feet_fix=total_height_in_feet.toFixed(2);
  
  $('#measurement_height').val(height_feet_fix);
});


$('#height_in_inches').change(function() {
    
  var dd =parseInt(this.value);
  var feet_select_box_value=$('#height_in_feet').val();
  if(isNaN(feet_select_box_value))
	{
		feet_select_box_value = feet_select_box_value.substring(0,(feet_select_box_value.length-1));
		 $('#height_in_feet').val(feet_select_box_value);
	}
  var height_in_feet=feet_select_box_value * 12.000;
  var total_height_in_feet=height_in_feet+(parseInt(dd));
  //var before=height_in_feet.toString().split(".")[0]; ///before
  //var after=height_in_feet.toString().split(".")[1];
  //var add_before_after=parseInt(before)+parseInt(after);
  
  
  var height_feet_fix=total_height_in_feet.toFixed(2);
  
  $('#measurement_height').val(height_feet_fix);
});

</script> 
                        <script>
                           
                           $(document).ready(function(){
                          
                        {%if(top_brand_id is defined)%}     
                             var top_brand_id={{top_brand_id}};
                           $('#measurement_top_brand').val({{top_brand_id}}).change().ajaxStop(function() {
                             {%if(top_size_chart_id is defined)%}
                            $('#measurement_top_size').val({{top_size_chart_id}}).change();
                            {%endif%}
                             });
                           {%endif%}
                           {# ---------------  Bottom Brand & Size ------------------ #}
                           {%if(bottom_brand_id is defined)%}   
                           $('#measurement_bottom_brand').val({{bottom_brand_id}}).change().ajaxStop(function() {
                          {%if(bottom_size_chart_id is defined)%}     
                          $('#measurement_bottom_size').val({{bottom_size_chart_id}}).change(); 
                          {%endif%}
                           });
                           {%endif%}
                          {# --------------- Dress Brand & Size ------------------ #}
                           {%if(dress_brand_id is defined)%}     
                           $('#measurement_dress_brand').val({{dress_brand_id}}).change().ajaxStop(function() {
                           {%if(dress_size_chart_id is defined)%}    
                           $('#measurement_dress_size').val({{dress_size_chart_id}}).change(); 
                           {%endif%}
                           });
                           {%endif%}  
                           
                       });
                        
                        </script>
                   
                        <div class="shirts_mus manual_opn show_hide show_it" id="shirts_mus_opt">
                          
                            {{form_errors(form.top_brand)}}  
                            {{form_widget(form.top_brand)}} 

                            {{form_errors(form.top_size)}}  
                            {{form_widget(form.top_size)}}                 
                       
                           
                        </div>
                        <div class="login_error" >
                                                    <div id="error_content2" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Please select your top measurement.
                                                         </div>
                                                    </div>
                        
                        
                        <div class="shuf_icon shirt_shuf"><a class="switch_button" href="javascript:void(0);"><img src="{{ asset('bundles/lovethatfit/site/images/shuffle_icon.png') }}" title="Toggle for other options"></a></div>

                    </div>
                    
                    
                    
                    {# ---------------  Bottom Brand & Size ------------------ #}

                    <div class="m_option">
                        <div class="mlabel">Pant</div>
                        
                        <div class="pants_mus manual_opn show_hide" id="pants_mus">
                         
                            {{ form_errors(form.waist) }}
                            <span class="boxlable" id="waist_box">Waist</span>                        
                            {{ form_widget(form.waist) }}

                            {{ form_errors(form.outseam) }}
                            <span class="boxlable" id="outseam_box">Pant Length</span> 
                            {{ form_widget(form.outseam) }}       

                        </div>
                        
                        <div class="login_error" >
                                                    <div id="error_content3" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Please select your bottom measurement.
                                                         </div>
                                                    </div>

                        <div class="pants_mus manual_opn show_hide show_it" id="pants_mus_opt">

                            {{form_errors(form.bottom_brand)}}  
                            {{form_widget(form.bottom_brand)}} 

                            {{form_errors(form.bottom_size)}}  
                            {{form_widget(form.bottom_size)}}  

                        </div>

                        <div class="shuf_icon pant_shuf"><a class="switch_button" href="javascript:void(0);"><img src="{{ asset('bundles/lovethatfit/site/images/shuffle_icon.png') }}" title="Toggle for other options"></a></div>

                        <!---  pant section close  !-->


                    </div><!-- m option close  !-->


              {% if( entity.gender=='f') %}
                    <div class="m_option">
                        <div class="mlabel">Dress</div>

                        <div class="dress_mus manual_opn show_hide" id="dress_mus">

                            {{ form_errors(form.bust) }}
                            {{ form_widget(form.bust) }} 
                            {{ form_errors(form.hip) }}

                            <span class="boxlable" id="hip_box">Hip</span> 
                            {{ form_widget(form.hip) }} 
                            {{ form_errors(form.back) }}
                            {{ form_widget(form.back) }} 
                        
                        </div>
                        
                        <div class="dress_mus manual_opn show_hide show_it" id="dress_mus">
                            {{form_errors(form.dress_brand)}}  
                            {{form_widget(form.dress_brand)}}

                            {{form_errors(form.dress_size)}}  
                            {{form_widget(form.dress_size)}}  
                        </div>
                        <div class="login_error" >
                                                    <div id="error_content4" style="display:none;color: #DD1144;font-size: 0.8em;
                                                         text-align:left">
                                                             Please select your dress measurement.
                                                         </div>
                                                    </div>

                        <div class="shuf_icon"><a class="switch_button" href="javascript:void(0);"><img src="{{ asset('bundles/lovethatfit/site/images/shuffle_icon.png') }}" title="Toggle for other options"></a></div>

                        </div>
      {% endif %}              

                                <!-- END WEIGHT !-->   
{% if( entity.gender=='f') %}
                                <div class="btm_buttons row">
      {%else%}                  
                                        <div class="btm_buttons row" style="bottom:25px!important; left:0px!important;">
{% endif %}              
                                <div class="btm_buttons row">
                                    <div class="frm_ele" style="float:none;">
                                        <input class="reg_next_step" type="submit" value="Save & Proceed" />
                                    </div>

                                </div>
                            </form>
                            <div class="clr_bth"></div>
                            <!--/.step_3--></div>
                        <!--/.action_cnt--></div>
                    <!--/.action_blk--></section>
 {{ form_rest(form) }}
            </form>

{% endblock %}

{% block how_it_works_content %}
            <section class="cnt_btm">
                <h3>Measurements</h3>
                <p>Get a friend to help you or take them yourself.  Make sure to fill them all out.  This will allow for the perfect fit every time!   If something changes you can allows come back to this step.  Any questions, watch our demonstrational videos.</p>
            </section>
{% endblock %}


{% block bottom_random_content %} 
            <script type="text/javascript">
            $(document).ready(function(){

            $(".slider_wrap").mousedown(function (){
                    //$(".slider_wrap").css('background','#9dcb38');
                    $(this).css('background','#c4c934');
                    show_tip(this);
            });


             //Slider Height
              $("#slider_height").slider({ animate: true, range: "min", value: {{ measurement.height }}, min: 20, max: 96, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_height" ).html( ui.value + '"' );
              },
              change: function(event, ui) {	
              $(this).parent().find("input").attr('value', ui.value);
              }	
              });

              //Slider Bust
              $("#slider_bust").slider({ animate: true, range: "min", value: {{ measurement.bust }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_bust" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });
                      
               //Slider Chest
              $("#slider_chest").slider({ animate: true, range: "min", value: {{ measurement.chest }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_chest" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });

              //Slider Waist
              $("#slider_waist").slider({ animate: true, range: "min", value: {{ measurement.waist }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_waist" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
             $(this).parent().find("input").attr('value', ui.value);	
              }	
              });

              //Slider Hips
              $("#slider_hips").slider({ animate: true, range: "min", value: {{ measurement.hip }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_hips" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });
                //Slider Neck
              $("#slider_neck").slider({ animate: true, range: "min", value: {{ measurement.neck }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_neck" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });
               //Slider Sleeve
              $("#slider_sleeve").slider({ animate: true, range: "min", value: {{ measurement.sleeve }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_sleeve" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });  
               //Slider Outseam
              $("#slider_outseam").slider({ animate: true, range: "min", value: {{ measurement.outseam }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_outseam" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
            $(this).parent().find("input").attr('value', ui.value);	
              }	
              });   
               //Slider Back
              $("#slider_back").slider({ animate: true, range: "min", value: {{ measurement.back }}, min: 10, max: 70, step: 0.25, slide: function( event, ui ) {
                              $( "#slider_result_back" ).html( ui.value + '"');
              },
              change: function(event, ui) { 
             $(this).parent().find("input").attr('value', ui.value);	
              }	
              });
                            
            });
            function show_tip(ele){


                            $(".tip").css({"left" : "267px"});

                            var chk_offset = $(ele).position();
                            //alert(chk_offset);



                            if($(ele).find("div.tip").css("display") == "block")
                            {
                                            //$(ele).find("div.tip").fadeIn(500)
                            }
                            else {

                                                            $(ele).find("div.tip").removeClass("tip").addClass("show_my_tip");
                                                            $(".tip").hide(20, function (){
                                                                            $("div.show_my_tip").fadeIn(20, function (){$(".action_cnt").find("div.show_my_tip").stop().animate({"left": "267px"}).removeClass("show_my_tip").addClass("tip");});
                                                            });			
                                             }

            }
            
            function showfeet(){
            
                 $('#height_wrapper').hide();
                 $('#measurement_height').hide();
                    $('#feet_box_wrapper').show();          
            
            }
            
            function hidefeet(){
            
                    $('#feet_box_wrapper').hide();          
                    $('#height_wrapper').show();
                    $('#measurement_height').show();
                          
            
            }

            ///////////////////////////////////////////

                                    



                </script> 
        <script>
  $( "#RegistrationMeasurement" ).submit(function( event ) {
  var height=document.getElementById('measurement_height').value;
  var weight=document.getElementById('measurement_weight').value;
  var bottommeasurement=document.getElementById('measurement_bottom_size').value;    
  var shirtmeasurement=document.getElementById('measurement_top_size').value;  
  var dressmeasurement=document.getElementById('measurement_dress_size').value;
  var slevee=document.getElementById('measurement_sleeve').value;
  var Bust=document.getElementById('measurement_bust').value;
  var Back=document.getElementById('measurement_back').value;  
  var waist=document.getElementById('measurement_waist').value;
  var outseam=document.getElementById('measurement_outseam').value;
  var hip=document.getElementById('measurement_hip').value;  
  if(height=='')
      {
          document.getElementById('error_content0').style.display="block";
          return false;
      }
  if(height==0)
      {
          document.getElementById('error_content10').style.display="block";
          return false;
      }    
  if(weight=='')
      {
          document.getElementById('error_content1').style.display="block";
          return false;
      }   
  if(weight==0)
      {
          document.getElementById('error_content11').style.display="block";
          return false;
      }  
  if((shirtmeasurement=='') && (slevee==0 && Bust==0 && Back==0))
      {
          document.getElementById('error_content2').style.display="block";
          return false;
      }
   if((bottommeasurement=='') && (waist==0 && outseam==0))
      {
          document.getElementById('error_content3').style.display="block";
          return false;
      }
   if((dressmeasurement=='') && hip==0)
      {
          document.getElementById('error_content4').style.display="block";
          return false;
      }   
        
  
}); 
       </script>
                
                
{% endblock %} 

