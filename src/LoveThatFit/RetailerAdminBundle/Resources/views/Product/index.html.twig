{% extends 'LoveThatFitRetailerAdminBundle::base.html.twig' %}
{% block breadcrumb %}
<li class="active">Products</li>
{% endblock %}
{% block body %}
<div class="p_listing">
    <h1>{%for r in retailer%} {{r.title}} {%endfor%} Products</h1>
   <div class="btn_wrapper2">       
       <a href="{{ path('admin_retailer_product_new') }}" class="btn">Add New</a>     
      </div>
    <div class="clearfix"></div> 
    <div class="bs-docs-grid" id="all_data">              

        <div class="row-fluid show-grid product_main">
            <div class="span1 hds"><a href="{{  path('retailer_product')~'/'~ 1~'/'~'id' }}" style=" text-decoration: none;"> ID</a></div>
            <div class="span1 hds"><a href="{{  path('retailer_product')~'/'~ 1~'/'~'brand' }}">Brand</a></div>
            <div class="span1 hds"><a href="{{  path('retailer_product')~'/'~ 1~'/'~'clothing_type' }}">Type</a></div>
            <div class="span1 hds"><a href="{{  path('retailer_product')~'/'~ 1~'/'~'gender' }}" style=" text-decoration: none;">Gender</a></div>
            <div class="span1 hds"><a href="{{  path('retailer_product')~'/'~ 1~'/'~'name' }}" style=" text-decoration: none;">Name</a></div>                        
            <div class="span1 hds">Try Count</div>
            <div class="span1 hds"></div>  
            <div class="span1 hds"></div>  
            <div class="span1 hds">View - Edit - Delete</div>  
            
        </div>    
          {% for p in products.products %}  
        <div class="row-fluid show-grid product_main">
            <div class="span1">{{p.Id}}</div>
            <div class="span1">{{p.Brand.Name}}</div>
            <div class="span1">{{p.ClothingType.Name}}</div>
            <div class="span1">{{p.Gender}}</div>
            <div class="span1">{{p.Name}}</div>
            <div class="span1">{{ p.getTryProductCount }}</div>            
            <div class="span1"> {%if(p.disabled==1)%} Disabled {%else%}  {%endif%}</div>
            <div class="span1">
                {%if(p.displayProductColor)%}                  
                  <img src="{{ asset(p.displayProductColor.WebPath) }}"/>        
                    {%endif%}  
            </div>
        <div class="span1">           
         <a href="{{ path('retailer_admin_product_detail_show', {'id': p.Id}) }}" title="Show {{p.Name}}"><i class="icon-eye-open"></i></a>
         <a href="{{ path('retailer_admin_product_detail_edit', {'id': p.Id}) }}" title="Edit {{p.Name}}"><i class="icon-edit"></i></a>
         <a href="#myModaldetail{{p.Id}}" title="Delete {{p.Name}}" role="button" data-toggle="modal"><i class="icon-remove"></i></a>
         <a href="{{ path('retailer_admin_product_detail_download', {'id': p.Id}) }}" title="Download" target="new">Download </i></a>
         </div>
        </div>
   
 <!-- ModalDetail -->
<div id="myModaldetail{{p.Id}}" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Delete Product</h3>
  </div>
  <div class="modal-body">
      <p>Are you sure you want to Delete this Product Detail <b>{{p.Name ~ ', ' ~ p.Brand.Name}}</b>?</p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
    <a href="{{ path('retailer_admin_product_detail_delete', {'id': p.Id}) }}"  class="btn btn-primary">Delete</a>
    
  </div>
</div>     
{%endfor%}   
 </div>
 </div>
    {% endblock %}