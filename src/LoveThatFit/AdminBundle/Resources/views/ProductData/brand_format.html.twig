{% extends 'LoveThatFitAdminBundle::base.html.twig' %}
{% block breadcrumb %}
    <li><a href="{{ path('admin_products') }}">Products</a> <span class="divider">/</span>Import CSV</li>
{% endblock %}
{% block body %}
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/admin/js/jquery.js') }}"></script>
    <script type="application/javascript">
        jQuery(document).ready(function () {
            $(".selectSize").change(function () {
                $('.add_size_row').show();
                var size_type = $.parseJSON(this.value);
                var siz_genrate = $('.size_genrate');
                var fit_points = $('.fit_point').val();
                var result = $.parseJSON(fit_points);
                siz_genrate.empty();
                var tableData = '';
                tableData += "<table><tr><th> Size Lable </th>";
                $.each(size_type, function (k, size_label) {
                    tableData += "<th>" + size_label + "</th>";
                });
                tableData += "</tr>";
                $.each(result, function (k, fit_point_value) {
                    tableData += "<tr><td class='span2'>" + fit_point_value + "</td>";
                    $.each(size_type, function (k, v) {
                        tableData += "<td>  <input type='text' name=" + fit_point_value + "_" + v + " style='width: 40px'/> </td>";
                    });
                    tableData += "</tr>";
                });
                //tableData += "</table>";
                siz_genrate.append(tableData);
            });
            var fit_poit_condition =true;
            $(".add_size").click(function () {
                var siz_lable_value = $('#product_fit_modle_size').val();
                var fit_point_labels='';
                var fit_point = $('.fit_point').val();
                    if(fit_poit_condition){
                        fit_point_labels = $.parseJSON(fit_point)
                        fit_poit_condition=false;
                } else{
                        fit_point_labels =fit_point

                    }

                fit_point_labels += ","+siz_lable_value;
                $('.fit_point').val(fit_point_labels)



                var size_type =  $('.selectSize :selected').val();
                size_type = $.parseJSON(size_type);
                var siz_genrate = $('.size_genrate');
                var tableData = '';
                tableData += "<table><tr><td class='span2'>"+ siz_lable_value + "</td>";
                $.each(size_type, function (k, v) {
                    tableData += "<td>  <input type='text' name=" + siz_lable_value + "_" + v + " style='width: 40px'/> </td>";
                });
                tableData += "</tr></table>";
                siz_genrate.append(tableData);
            });
        })
    </script>

    <h1 style="float:left;">Product Brand CSV Format Configure</h1>
    <div class="btn_wrapper"><a href="{{ path('admin_products') }}" class="btn">back to list</a></div>
    <div class="clearfix"></div>

    <div id="detail_wrapper">
        <div id="product_content">


            {#{{ dump(brandNames) }}#}


            <form action="{{ path('admin_product_data_save_brand_specification') }}" method="post">
                <div id="detail_wrapper">
                    <div id="p_hd">Product Brand CSV Format Configure</div>

                    <div class="clearfix"></div>

                    <div id="product_content">
                        <div id="pro_detail">
                            <div class="edt_container">
                                <div class="row-fluid show-grid" id="brand_1">
                                    <div class="span3">Please Select Brand</div>
                                    <div class="span3">
                                        <select name="product_Brand">
                                            {% for key, brandName in brandNames %}
                                                <option value="{{ brandName.name }}"> {{ brandName.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Brand Description</div>
                                    <div class="span3">
                                        <textarea name="brand_description"></textarea>
                                    </div>
                                </div>

                                <div class="row-fluid show-grid">
                                    <div class="span3">Control Number</div>
                                    <div class="span3">
                                        <input type="text" id="product_control_number" name="control_number"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Retailer</div>
                                    <input type="text" id="product_Retailer" name="product_Retailer" maxlength="255">

                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Gender</div>
                                    <input type="text" id="product_gender" name="product_gender" maxlength="255">
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Name</div>
                                    <input type="text" id="product_name" name="product_name" maxlength="255">
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Clothing Type</div>
                                    <input type="text" id="product_ClothingType" name="product_ClothingType"
                                           maxlength="255">
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Styling Type</div>
                                    <div class="span3">
                                        <input type="text" id="product_styling_type" name="product_styling_type"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid" id="hem_length">
                                    <div class="span3">Hem length</div>
                                    <div class="span3">
                                        <input type="text" id="product_hem_length" name="product_hem_length"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid" id="neckline">
                                    <div class="span3">Neckline</div>
                                    <div class="span3">
                                        <input type="text" id="product_neckline" name="product_neckline"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Sleeve Styling</div>
                                    <div class="span3">
                                        <input type="text" id="product_sleeve_stylingeee" name="product_sleeve_styling"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid" id="rise">
                                    <div class="span3">Rise</div>
                                    <div class="span3">
                                        <input type="text" id="product_rise" name="product_rise" maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Stretch Type</div>
                                    <div class="span3">
                                        <input type="text" id="product_stretch_type" name="product_stretch_type"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Horizontal Stretch</div>
                                    <div class="span3">
                                        <input type="text" id="product_horizontal_stretch"
                                               name="product_horizontal_stretch">
                                    </div>

                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Vertical Stretch</div>
                                    <div class="span3">
                                        <input type="text" id="product_vertical_stretch"
                                               name="product_vertical_stretch">

                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Fabric Weight</div>
                                    <div class="span3">
                                        <input type="text" id="product_fabric_weight" name="product_fabric_weight"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Structural Detail</div>
                                    <div class="span3">
                                        <input type="text" id="product_structural_detail"
                                               name="product_structural_detail" maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Fit Type</div>
                                    <div class="span3">
                                        <input type="text" id="product_fit_type" name="product_fit_type"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Layering</div>
                                    <div class="span3">
                                        <input type="text" id="product_layering" name="product_layering"
                                               maxlength="255">
                                    </div>
                                </div>
                                <div class="row-fluid show-grid">
                                    <div class="span3">Fit Model Size</div>
                                    <div class="span3">
                                        <input type="text" id="product_stretch_type" name="product_fit_modle_size"
                                               maxlength="255">
                                    </div>
                                </div>


                                <div class="row-fluid show-grid">
                                    <div class="span3">Slect Sizes</div>

                                    <div class="span3">
                                        <select name="select_size" class="selectSize">
                                            <option selected> Select Size</option>
                                            <option value="{{ size_fit_points[1]|json_encode() }}"> letter</option>
                                            <option value="{{ size_fit_points[2]|json_encode() }}"> number</option>
                                            <option value="{{ size_fit_points[3]|json_encode() }}"> waist</option>

                                        </select>
                                    </div>
                                    <input type="hidden"    value="{{ size_fit_points[0]|json_encode() }}"
                                           name="fit_point" class="fit_point">
                                </div>
                                <div class="size_genrate"></div>

                                <div class="row-fluid show-grid add_size_row" style="display: none">
                                    <div class="span3">Enter Size Lable</div>
                                    <div class="span3">
                                        <input type="text" id="product_fit_modle_size" name="product_fit_modle_size"
                                               maxlength="255">
                                        <button type="button" class="add_size">Add Size Lable</button>
                                    </div>

                                </div>
                                <p>
                                    <button type="submit">Save</button>
                                </p>
                            </div><!-- End pro_detail -->
                        </div>
            </form>


        </div><!-- End pro_detail -->
    </div><!-- End product_content -->
{% endblock %}
