{% extends 'LoveThatFitAdminBundle::base.html.twig' %}

{% block breadcrumb %}
    <link rel="stylesheet" href="{{ asset('bundles/lovethatfit/admin/colorpicker/css/colorpicker.css') }}"
          type="text/css"/>
    <link rel="stylesheet" media="screen" type="text/css"
          href="{{ asset('bundles/lovethatfit/admin/colorpicker/css/layout.css') }}"/>
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/admin/colorpicker/js/jquery.js') }}"></script>
    <script type="text/javascript"
            src="{{ asset('bundles/lovethatfit/admin/colorpicker/js/colorpicker.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/admin/colorpicker/js/eye.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/admin/colorpicker/js/utils.js') }}"></script>
    <script type="text/javascript"
            src="{{ asset('bundles/lovethatfit/admin/colorpicker/js/layout.js?ver=1.0.2') }}"></script>
    <li><a href="{{ path('admin_products') }}">Products</a> <span class="divider">/</span>{{ product.name }}<span
                class="divider">/</span></li>
    <li class="active">Show</li>
{% endblock %}

{% block h1 %}Products{% endblock %}

{% block title %}Products{% endblock %}


{% block body %}
    <script>
        $(document).ready(function () {
            $("#update_product_status").click(function () {
                var product_status = $("#product_status").val();
                $.ajax({
                    type: 'POST',
                    url: $('#product_status_url').text(),
                    data: {status: product_status, id:{{ product.Id }}},
                    success: function (data) {
                        if (data) {
                            $('#msg_prod_status').html('Product Status has been updated.');
                            setTimeout(redirect_product_detail, 1000)
                            //$('#model_product_status').modal().hide();
                            //window.location.reload();
                        } else {
                            $('#msg_prod_status').html('Product Status not been updated.')
                        }
                    }
                });
            });
        });
        function redirect_product_detail() {
            window.location.reload();
        }
    </script>
    <!-- Modal -->
    <div class="modal fade" id="model_product_status" role="dialog" style="position:absolute;">
        <div class="modal-dialog">


            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">Product Status</h3>
                </div>
                <div class="modal-body">
                    <div>
        <span style="float:left">
             {{ form_widget(form.status) }}{{ form_errors(form.status) }}
        </span>
                        <span style="float:left; padding-left: 25px">
            <button type="button" id="update_product_status" class="btn btn-default">Update</button>
        </span>
                        <span style="float:left; padding-left: 25px" id="msg_prod_status">
        </span>
                    </div>
                    <div>

                    </div>
                </div>
            </div>

        </div>
    </div>
    <span id="product_status_url" style="display:none;">{{ path('admin_product_status_update') }}</span>
    <div>
        <h1 style="float:left;">{{ product.name }}</h1>
        <div class="btn_wrapper">

            <!-- product status button -->
            <a href="#model_product_status" class="btn" data-toggle="modal">Product Status</a>
            
            <a href="{{ path('admin_product_manage_description', {'id': product.Id}) }}" class="btn">Manage
                Description</a>

            <a href="{{ path('admin_products') }}" class="btn">back to list</a>
        </div>
        <div class="clearfix"></div>


        <div id="detail_wrapper">
            <div id="p_hd">Product Detail</div>


            <div id="product_info">
                <div id="pro_detail">
                    <div class="edt_container">

                        <!--<div class="product_fld">
                        <div class="p_hd">Status</div>
                        <div>
                            {% if(product.status) %}
                                {{ product.status }}
                            {% else %}
                                pending
                            {% endif %}
                        </div>
                    </div>-->

                        <div id="product_info_left">
                            <div class="product_fld">
                                <div class="p_hd">Brand</div>
                                <div>{{ product.brand.name }}</div>

                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Clothing Type</div>
                                <div>{{ product.clothingType.name }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Gender</div>
                                <div>{{ product.gender }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Control Number</div>
                                <div>{{ product.ControlNumber }}</div>
                            </div>

                            <div class="product_fld">
                                <div class="p_hd">Styling Type</div>
                                <div>{{ product.StylingType }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Hem Length</div>
                                <div>{{ product.HemLength }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Neck line</div>
                                <div>{{ product.Neckline }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Sleeve Styling</div>
                                <div>{{ product.SleeveStyling }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Rise</div>
                                <div>{{ product.Rise }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Stretch Type</div>
                                <div>{{ product.StretchType }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Horizontal Stretch</div>
                                <div>{{ product.HorizontalStretch }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Vertical Stretch</div>
                                <div>{{ product.VerticalStretch }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Fabric Weight</div>
                                <div>{{ product.FabricWeight }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Structural Detail</div>
                                <div>{{ product.StructuralDetail }}</div>
                            </div>
                            <div class="product_fld">
                                <div class="p_hd">Fit Type</div>
                                <div>{{ product.FitType }}</div>
                            </div>

                            <div class="product_fld">
                                <div class="p_hd">Size Title Type</div>
                                <div>{{ product.sizeTitleType }}</div>
                            </div>
                            <div class="product_fld">
                                <div>{{ product.description }}</div>
                            </div>


                            <!-- Start OF Product Fit Pirority/ Fabric Content , Garment Detail -->
                            {% include 'LoveThatFitAdminBundle:Product:_fitPirority.html.twig' %}
                            <!-- End OF Product Fit Pirority -->
                        </div>

                        {% if(product.displayProductColor!='') %}
                            <div style="width:800px; float:left;">
                                <div style="padding: 20px; width: 120px; margin: 0 auto; text-align: center;">
                                    <img style="width: 70px; height: 100px;"
                                         src="{{ asset(product.displayProductColor.WebPath) }}" width="100"
                                         height="200"/>
                                </div>
                            </div>
                        {% endif %}

                    </div>


                    <div style="clear:both;"></div>
                    <div class="btn_wrapper" style="margin-top: 0px;">
                        {% if(page_number is defined ) %}
                            <a href="{{ path('admin_products',{'page_number':page_number}) }}" class="btn">back</a>
                        {% else %}
                            <a href="{{ path('admin_products') }}" class="btn">back</a>
                        {% endif %}
                        <a href="{{ path('admin_product_detail_edit', {'id': product.Id}) }}" class="btn">Edit</a>
                        <a href="#myModal" role="button" data-toggle="modal" class="btn">Delete</a>
                    </div>

                </div>


            </div>

            <!-- End pro_detail -->

            <!-- Start OF Product Color Display -->
            {% include 'LoveThatFitAdminBundle:Product:_productColors.html.twig' %}
            <!-- End OF Product Color Display -->
            {% include 'LoveThatFitAdminBundle:Product:_productSizes.html.twig' %}

            {% include 'LoveThatFitAdminBundle:Product:_productItems.html.twig' %}
            {# {% include 'LoveThatFitAdminBundle:Product:_productMultipleImages.html.twig' %}#}
            {% include 'LoveThatFitAdminBundle:Product:_image_uploader_for_productdetail.html.twig' %}

        </div>
    </div>

    </div><!-- End product_content -->
    </div> <!-- End detail_wrapper -->

    <!-- Modal -->
    <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="myModalLabel">Delete Product</h3>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to Delete this Product <b>{{ product.name }}</b>?</p>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
            <a href="{{ path('admin_product_detail_delete', {'id': product.Id}) }}" class="btn btn-primary">Delete</a>

        </div>
    </div>


    </div>



{% endblock %}
