{% extends 'LoveThatFitAdminBundle::base.html.twig' %}
{% block breadcrumb %}
   <li class="active">Users Data</li>
{% endblock %}       

{% block body %}
   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
   <script>
   function hit_service(download){
   
   var $url='../mask_marker_inspect/data_filter';
   var value_ar = {
   female : $('#chk_f').is(':checked'),
   male : $('#chk_m').is(':checked'),
   to_id : $('#txt_to_id').val(),    
   from_id : $('#txt_from_id').val(),
   csv_download : download
   };
   
    $.ajax({
        type: "POST",
        url: $url,
        data: value_ar,  
       success: function(data){
        
        $('#user_data_placeholder').html(data);
    },
        failure: function(errMsg) {
            alert('error');    
        }
  });
   }
   
   $(document).ready(function(){
       
        $('a.a_display_users').click(function (event){            
                event.preventDefault(); 
                hit_service(false);
        });
        $('a.a_download_users').click(function (event){            
                event.preventDefault(); 
                hit_service(true);
        });
    
   });
   </script>
   <div class="form-inline">
    <div class="checkbox">
        
        <label>Gender</label>
        <label><input id='chk_f' type="checkbox" value="F">F</label>&nbsp;&nbsp;
        <label><input  id='chk_m'  type="checkbox" value="M">M</label>
    </div>
    <div class="form-group">           
        <input type="text" class="form-control" id="txt_from_id">
        <label>To</label>
        <input type="text" class="form-control" id="txt_to_id">
        <a id='a_display_users' class='a_display_users' href="#">Display Users</a> 
        <a id='a_download_users' class='a_download_users' href="#">Download Users</a> 
    </div>
   </div>
   <br>
   <div id='user_data_placeholder'>
   
           </div>
{% endblock %}