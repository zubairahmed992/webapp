{% extends 'LoveThatFitAdminBundle::base.html.twig' %}

{% block breadcrumb %}
<li><a href="{{ path('admin_size_charts') }}" >Size Chart</a> <span class="divider">/</span></li>
<li class="active">Edit</li>
<script type="text/javascript" src="{{ asset('bundles/lovethatfit/admin/js/jquery-1.9.1.js') }}"></script>
{%if(entity.gender=='f' and entity.target=='Top')%}
<script type="text/javascript">
   $(document).ready(function() {
                  $("#genderfemale").show();
                  $("#neck").show();
                  $("#shoulder_across_back").show();
                  $("#waist").show();
                  $("#bust").show();
                  $("#hip").show();  
                  $("#sleeve").hide();
                  $("#inseam").hide(); 
                  $("#chest").hide();
                  $("#outseam").hide();
                  $("#thigh").hide();
        });
</script>
{%endif%}

{%if(entity.gender=='f' and entity.target=='Bottom')%}
<script type="text/javascript">
   $(document).ready(function() {
                  $("#genderfemale").show();                 
                  $("#waist").show();                  
                  $("#hip").show();                    
                  $("#inseam").show();
                  $("#outseam").show();                  
                  $("#thigh").show();
                  $("#sleeve").hide();
                  $("#bust").hide();
                  $("#chest").hide();
                  $("#neck").hide();
                  $("#shoulder_across_back").hide();
        });
</script>
{%endif%}
{%if(entity.gender=='f' and entity.target=='Dress')%}
<script type="text/javascript">
   $(document).ready(function() {
                  $("#genderfemale").show();
                  $("#neck").show();
                  $("#shoulder_across_back").show();
                  $("#sleeve").show();
                  $("#waist").show();                  
                  $("#hip").show();
                  $("#bust").show();
                  $("#inseam").hide(); 
                  $("#chest").hide();
                  $("#outseam").hide();
                  $("#thigh").hide();
        });
</script>
{%endif%}
{%if(entity.gender=='m' and entity.target=='Top')%}
<script type="text/javascript">
   $(document).ready(function() {
                  $("#chest").show();
                  $("#neck").show();
                  $("#shoulder_across_back").show();
                  $("#sleeve").show();
                  $("#waist").show();                  
                  $("#hip").hide();                    
                  $("#inseam").hide();
                  $("#outseam").hide();                  
                  $("#thigh").hide();                  
                  $("#bust").hide();
                                                    
        });
</script>
{%endif%}
{%if(entity.gender=='m' and entity.target=='Bottom')%}
<script type="text/javascript">
   $(document).ready(function() {
                  $("#waist").show();                  
                  $("#hip").show();                    
                  $("#inseam").show();
                  $("#outseam").show();                  
                  $("#thigh").show();  
                  $("#chest").hide();
                  $("#neck").hide();
                  $("#shoulder_across_back").hide();
                  $("#sleeve").hide();                                  
                  $("#bust").hide();                                
        });
</script>
{%endif%}

<script type="text/javascript">
    {% autoescape false %}
    var allSizes={{allSizes}};
    {% endautoescape  %}
     function strLower(str){
        return str.toLowerCase()
    }
   $(document).ready(function() {
     var $radios = $('input:radio[id=sizechart_size_title_type_0]');
       var $radios1 = $('input:radio[id=sizechart_size_title_type_1]');
       var $radios2 = $('input:radio[id=sizechart_size_title_type_2]');

if($radios.is(':checked') === false && $radios1.is(':checked') === false && $radios2.is(':checked') === false ) {
$radios1.filter('[value=numbers]').prop('checked', true);
}


var gender=strLower($('#sizechart_gender').val());   
if(gender==''){gender='f';}    
 var target=strLower($('#sizechart_target').val());
  getWomanNumberSizes();

 /*    Clicking on Size title type  change */        
 $('input:radio').click(function() { 
    
    var gender=strLower($('#sizechart_gender').val()); 
    changeTitle(gender,$(this).attr('value')); 
}); 
   });
 
 $('#sizechart_gender').change(function() {
	  var gender=strLower($('#sizechart_gender').val()); 
          var target=strLower($('#sizechart_target').val());
             sizeTitleType=getSizeTitleType();
            changeTitle(gender,sizeTitleType);
            if(target=="" && gender=='m'){
            $('#sizechart_title').empty();
            $('<option>').val('').text("Please Select Target Above").appendTo('#sizechart_title');  
            }
   });   
       
       $('#sizechart_target').change(function() {	 
            var selectVals = $('#sizechart_gender').val();
            var selectValtargets = $('#sizechart_target').val();              
            if((selectValtargets=='Top') && (selectVals=='F'  || selectVals=='f') )
                {
                  $("#neck").show();
                  $("#shoulder_across_back").show();
                  $("#bust").show();
                  $("#waist").show();                  
                  $("#hip").show();
                  $("#sleeve").hide();
                  $("#inseam").hide();                  
                  $("#outseam").hide();
                  $("#chest").hide();
                  $("#thigh").hide();                  
                }
            if((selectValtargets=='Bottom') && (selectVals=='F'  || selectVals=='f'))
                {
                  $("#waist").show();
                  $("#hip").show();
                  $("#thigh").show();
                  $("#outseam").show();
                  $("#inseam").show();                  
                  $("#neck").hide();
                  $("#shoulder_across_back").hide();
                  $("#bust").hide();
                  $("#sleeve").hide();                  
                  $("#chest").hide();                  
                }                
              if((selectValtargets=='Dress')&& (selectVals=='F' || selectVals=='f'))
                {
                  $("#neck").show();  
                  $("#shoulder_across_back").show();
                  $("#bust").show();
                  $("#sleeve").show();  
                  $("#waist").show();
                  $("#hip").show();
                  $("#thigh").hide();
                  $("#outseam").hide();
                  $("#inseam").hide();                  
                  $("#chest").hide();                                  
                }  
              if((selectValtargets=='Top') && (selectVals=='M' || selectVals=='m'))
                {
                  $("#neck").show();
                  $("#sleeve").show();
                  $("#chest").show();
                  $("#shoulder_across_back").show();
                  $("#waist").show();
                  $("#bust").hide();
                  $("#hip").hide();
                  $("#inseam").hide();
                  $("#outseam").hide();
                  $("#thigh").hide();                  
                }
            if((selectValtargets=='Bottom')&& (selectVals=='M' || selectVals=='m'))
                {
                  $("#waist").show();
                  $("#inseam").show();
                  $("#outseam").show();
                  $("#hip").show();    
                  $("#thigh").show();
                  $("#shoulder_across_back").hide();                                
                  $("#bust").hide();
                  $("#sleeve").hide();                  
                  $("#neck").hide();                  
                  $("#chest").hide();                                    
                }                
              if((selectValtargets=='Dress')&& (selectVals=='M' || selectVals=='m'))
                {
                 $("#waist").hide();
                  $("#inseam").hide();
                  $("#outseam").hide();
                  $("#hip").hide();    
                  $("#thigh").hide();
                  $("#shoulder_across_back").hide();                                
                  $("#bust").hide();
                  $("#sleeve").hide();                  
                  $("#neck").hide();                  
                  $("#chest").hide();      
                }    
	});      
        
    
        
        
  function changeTitle(gender,sizeTitleType){  
 if(gender=="f" && sizeTitleType=='letters'){
     
   getWomanLetterSizes();  
  }
 else if(gender=="f" && sizeTitleType=="numbers" ){
      getWomanNumberSizes();  
  }
  else if(gender=="f" && sizeTitleType=="Waist" ){
      getWomanWaistSizes();
 }
 else if(gender=="m" && sizeTitleType=='letters'){
   getManLetterSizes();  
  }
 else if(gender=="m" && sizeTitleType=="numbers" ){
      getManNumberSizes();  
  }
  else if(gender=="m" && sizeTitleType=="Waist" ){
      getManWaistSizes();
 }
 else{
    $('#sizechart_title').empty();
    $('<option>').val('').text("Not Found").appendTo('#sizechart_title');  
 }
 }
//  New Sizes From Yml ------------------#
//1- Get Woman letter Size
 function getWomanLetterSizes(){
 {% autoescape false %}
 var womanLetter=allSizes;
  $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['women_letter_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 
 {% for womansize in womanLetterSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
//2- Woman Number Sizes-----------------#
 function getWomanNumberSizes(){
 {% autoescape false %}
 var womanLetter=allSizes;
 $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['woman_number_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 {% for womansize in womanNumberSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
//3- Woman Waist Size-------------------#
 function getWomanWaistSizes(){
 {% autoescape false %}
 var womanLetter=allSizes;
  $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['woman_waist_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 {% for womansize in womanWaistSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
// For Man Size base on new yml------------#
//4- For man sizes in letter
function getManLetterSizes(){
     {% autoescape false %}
 var womanLetter=allSizes;
  $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['man_letter_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 {% for womansize in manLetterSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
//5- For man number sizes
function getManNumberSizes(){
 {% autoescape false %}
 var womanLetter=allSizes;
 $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['man_number_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 {% for womansize in manNumberSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
// 6- For man waist sizes
function getManWaistSizes(){
{% autoescape false %}
 var womanLetter=allSizes;
  $('#sizechart_title').empty();
 $('<option>').val('').text("Select Size Title").appendTo('#sizechart_title');    
 $.each(womanLetter['man_waist_sizes'], function(k, v) {
 $('<option>').val(k).text(k).appendTo('#sizechart_title');    
 });
 {% for womansize in manWaistSize %}
  {% if(womansize==entity.title) %}
  $("option[value='{{womansize}}']").attr('selected','selected');
  {%endif%}
 {% endfor %}
 
 {% endautoescape %}
}
function getSizeTitleType(){
      var $radios = $('input:radio[id=sizechart_size_title_type_0]');
       var $radios1 = $('input:radio[id=sizechart_size_title_type_1]');
       var $radios2 = $('input:radio[id=sizechart_size_title_type_2]');
var sizeTitleType=null;
    if($radios.is(':checked') === true){
    sizeTitleType=$('#sizechart_size_title_type_0').val();
    }
    if($radios1.is(':checked') === true){
    sizeTitleType=$('#sizechart_size_title_type_1').val();
    }
    if($radios2.is(':checked') === true){
    sizeTitleType=$('#sizechart_size_title_type_2').val();
    }
return sizeTitleType;
}


</script>

{% endblock %}

{% block h1 %}Size Chart{% endblock %}

{% block title %}Size Chart{% endblock %}


{% block body %}

    
  
    <div>      
    <h1 style="float:left;">Edit Size Chart</h1>
     <div class="btn_wrapper">     
       <a href="#myModal" role="button" data-toggle="modal" class="btn">Delete</a>
 
      </div>
      <div class="clearfix"></div>   
    <form action="{{ path('admin_size_chart_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(form) }}>
 {{ form_errors(form) }}

            <div id="detail_wrapper">      
                    <div id="product_content">
                        <div id="pro_detail">
                            <div id="genderfemale">                                
                            <div class="edt_container">         
                                
                                <div class="row-fluid show-grid">
                                  <div class="span3">Brand</div>
                                  <div class="span3">{{ form_widget(form.Brand) }}{{ form_errors(form.Brand) }}</div>
                                </div>
                                <div class="row-fluid show-grid">
                                 <div class="span3">Target</div>
                                 <div class="span3">{{ form_widget(form.target) }}{{ form_errors(form.target) }}</div>
                               </div>
                                <div class="row-fluid show-grid">
                                  <div class="span3">Body Type</div>
                                  <div class="span3">{{ form_widget(form.bodytype) }}{{ form_errors(form.bodytype) }}</div>
                                </div>
                                 <div class="row-fluid show-grid">    
                                    <div class="span3">Size Title Type</div>
                                    <div class="span3" id="size_titles">{{ form_widget(form.size_title_type) }}{{ form_errors(form.size_title_type) }}</div>
                                  </div> 
                                <div class="row-fluid show-grid">
                                  <div class="span3">Gender</div>
                                  <div class="span3">{{ form_widget(form.gender) }}{{ form_errors(form.gender) }}</div>
                                </div>                                
                                <div class="row-fluid show-grid">
                                  <div class="span3">Title</div>
                                  <div class="span3">{{ form_widget(form.title) }}{{ form_errors(form.title) }}</div>
                                </div>                        
                                                                  
                                <div class="row-fluid show-grid" id="neck">
                                  <div class="span3">Neck</div>
                                  <div class="span3">{{ form_widget(form.neck) }}{{ form_errors(form.neck) }}</div>
                                </div>    
                                    
                                <div class="row-fluid show-grid" id="back">
                                  <div class="span3">Shoulder across back</div>
                                  <div class="span3">{{ form_widget(form.shoulder_across_back) }}{{ form_errors(form.shoulder_across_back) }}</div>
                                </div>
                                <div class="row-fluid show-grid" id="bust">
                                  <div class="span3">Bust</div>
                                  <div class="span3">{{ form_widget(form.bust) }}{{ form_errors(form.bust) }}</div>
                                </div>
                                <div class="row-fluid show-grid" id="sleeve">
                                  <div class="span3">Sleeve</div>
                                  <div class="span3">{{ form_widget(form.sleeve) }}{{ form_errors(form.sleeve) }}</div>
                                </div>
                                
                                <div class="row-fluid show-grid" id="waist">
                                  <div class="span3">Waist</div>
                                  <div class="span3">{{ form_widget(form.waist) }}{{ form_errors(form.waist) }}</div>
                                </div>
                                    <div class="row-fluid show-grid" id="hip">
                                  <div class="span3">Hip</div>
                                  <div class="span3">{{ form_widget(form.hip) }}{{ form_errors(form.hip) }}</div>
                                </div>                                   
                               
                                <div class="row-fluid show-grid" id="thigh">
                                  <div class="span3">Thigh</div>
                                  <div class="span3">{{ form_widget(form.thigh) }}{{ form_errors(form.thigh) }}</div>
                                </div>
                                
                                 <div class="row-fluid show-grid" id="outseam">
                                  <div class="span3">Out Seam</div>
                                  <div class="span3">{{ form_widget(form.outseam) }}{{ form_errors(form.outseam) }}</div>
                                </div>   
                                
                                   <div class="row-fluid show-grid" id="inseam">
                                  <div class="span3">Inseam</div>
                                  <div class="span3">{{ form_widget(form.inseam) }}{{ form_errors(form.inseam) }}</div>
                                </div>
                                
                                 <div class="row-fluid show-grid" id="chest">
                                  <div class="span3">Chest</div>
                                  <div class="span3">{{ form_widget(form.chest) }}{{ form_errors(form.chest) }}</div>
                                </div>
                                
                               
                                <div class="span3">
				{{ form_rest(form) }}
                                            <div style="margin:0px 0px 0px 0px;"> <input type="submit" value="SAVE" class="btn btn-large btn-primary"/>
                                    </div>                                    
                                    </div>                                
                                </div> 
                            
                            
                            </div>
                            
                            
                                     



                                </div>      
                            </div><!-- End pro_detail -->      
                        </div><!-- End product_content --> 
                </form>    
          
            </div> 
    
    
<!-- Modal -->
<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Delete Brand</h3>
  </div>
  <div class="modal-body">
      <p>Are you sure you want to Delete this Brand <b>{{entity.title }}</b>?</p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
    <a href="{{ path('admin_brand_delete', {'id': entity.id}) }}"  class="btn btn-primary">Delete</a>
    
  </div>
</div>    
    

{% endblock %}

