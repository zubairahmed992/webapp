{% extends 'LoveThatFitAdminBundle::base.html.twig' %}

{% block breadcrumb %}
    <li><a href="{{ path('default_clothings') }}">Default Clothing</a> <span class="divider">/</span></li>
    <li class="active">New</li>
{% endblock %}

{% block h1 %}Default Product{% endblock %}

{% block title %}Default Product{% endblock %}

{% block body %}
    <link href="{{ asset('bundles/lovethatfit/support/chosen/chosen.css') }}" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/support/chosen/chosen.jquery.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/lovethatfit/support/chosen/prism.js') }}"></script>
    <script>
        jQuery(document).ready(function () {
            jQuery('#FNFUser_users').chosen();
        });
    </script>
    <style type="text/css">
        .categoryerror {
            border-color: #e9322d !important;
            -webkit-box-shadow: 0 0 6px #f8b9b7 !important;
            -moz-box-shadow: 0 0 6px #f8b9b7 !important;
            box-shadow: 0 0 6px #f8b9b7 !important;
        }

        #FNFUser_users > .chosen-drop {
            /* overflow-y: scroll;
             height: 150px;*/
        }
    </style>

    {#<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>#}
    <script>
        function submitform() {

        }
    </script>
    <div>
        <h1 style="float:left;">Default Cloting </h1>
        {#<div class="row-fluid">
            #}{#<div class="span4 text-center">
                  <form action="{{ path('admin_csv_fnf_create_user') }}" method="post" enctype="multipart/form-data">
                    <input type="file" name="upload_csv_fnf_user">
                    <input type="submit" value="Submit" name="submit">
                </form>

                 <form action="{{ path('admin_csv_fnf_create_user') }}" method="post" {{ form_enctype(fvfImportform) }}>
                    {{ form_widget(fvfImportform) }}
                    <input type="submit" name="fnf_import_submit" value="import" />
                </form>

            </div>#}{#
        </div>#}
        <div class="btn_wrapper">
            <a href="{{ path('default_clothings') }}" class="btn">back</a>
        </div>
        <div class="clearfix"></div>
        <form action="{{ path('admin_mark_product_default') }}" method="post" onsubmit="submitform()"
              id="groupForm" novalidate>
            <div id="detail_wrapper">
                <div id="p_hd">Make Clothing Default</div>

                <div id="product_content">
                    <div id="pro_detail">
                        <div class="edt_container">
                            <div class="row-fluid show-grid" id="banner_level_div"
                                 style="margin-bottom:10px !important;">
                                <div class="span3" style="padding-top:0px !important;">Select Default Clothing</div>
                                <div class="span8" style="padding-top:0px !important;">
                                    <select id="default_clothing" name="default_clothing">
                                        <option value="0">Default Clothing</option>
                                        {% for type in clothingType %}
                                            <option value="{{ type['id'] }}">{{ type['name'] }} - {{ type['target'] }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>

                            <div class="row-fluid show-grid" id="banner_level_div"
                                 style="margin-bottom:10px !important;">
                                <div class="span3" style="padding-top:0px !important;">Select Products</div>
                                <div class="span8" style="padding-top:0px !important;">
                                    <select id="product" name="product" readonly="readonly">
                                        <option value="0">Products</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row-fluid show-grid">
                                <div class="span3">&nbsp;</div>
                                <div style="margin:0px 0px 0px 0px;"><input type="submit" value="SAVE"
                                                                            class="btn btn-large btn-primary"/></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- End pro_detail -->
    </div><!-- End product_content -->
    </form>
    </div>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            $("select[name='default_clothing']").on('change', function () {
                var selectedVar = $(this).find(":selected").val();
                var parameters = {'id': selectedVar};
                $.ajax({
                    cache: false,
                    type: 'POST',
                    url: "{{ path('get_product_by_clothingtype_id') }}",
                    data: parameters,
                    beforeSubmit: function (arr, $form, options) {
                        $("select[name='product']").attr('readonly','readonly');
                        $("select[name='product']").html( "<option>Loading........</option>" );
                    },
                    success: function (data) {
                        $("select[name='product']").removeAttr('readonly');
                        $("select[name='product']").html( data );
                    }
                });
            })
        });

    </script>
    <style type="text/css">
        .chosen-container-multi .chosen-choices {
            overflow-y: auto;
            max-height: 115px;
        }
    </style>
{% endblock %}

